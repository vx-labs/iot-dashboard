(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},4199:function(t,e,n){},4678:function(t,e,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id="4678"},8160:function(t){t.exports=JSON.parse('{"b":"vx-labs.eu.auth0.com","a":"27Y7oQxrPKMKGUQTjOeU1nKHUh4mRH4z"}')},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("AppDrawer"),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:""}})],1)},s=[],r=n("1da1"),o=n("5530"),c=(n("96cf"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("841c"),n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.authenticated?n("v-navigation-drawer",{attrs:{app:"",permanent:"","mini-variant":t.mini},scopedSlots:t._u([{key:"append",fn:function(){return[n("NightModeSelector"),n("AuthButton")]},proxy:!0}],null,!1,431373539)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{staticClass:"px-2"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.profile.picture}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.profile.given_name)+" "+t._s(t.profile.family_name.toUpperCase()))]),n("v-list-item-subtitle",[t._v(t._s(t.profile.email))])],1)],1)],1),n("v-divider"),n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{attrs:{link:"",to:"/"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-home")])],1),n("v-list-item-title",[t._v("Home page")])],1),n("v-list-item",{attrs:{link:"",to:"/applications/"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-apps")])],1),n("v-list-item-title",[t._v("Applications")])],1),n("v-list-item",{attrs:{link:"",to:"/topics/"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-share-variant")])],1),n("v-list-item-title",[t._v("Message Topics")])],1),n("v-list-item",{attrs:{link:"",to:"/events/"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-history")])],1),n("v-list-item-title",[t._v("Events")])],1)],1)],1):t._e()}),l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{on:{click:function(e){t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-theme-light-dark")])],1),n("v-list-item-title",[t._v(" Switch theme to "+t._s(t.$vuetify.theme.dark?"light":"dark"))])],1)],1)},p=[],d=i["a"].extend({}),m=d,v=n("2877"),f=n("6544"),h=n.n(f),b=n("132d"),g=n("8860"),j=n("da13"),w=n("34c3"),_=n("5d23"),y=Object(v["a"])(m,u,p,!1,null,null,null),k=y.exports;h()(y,{VIcon:b["a"],VList:g["a"],VListItem:j["a"],VListItemIcon:w["a"],VListItemTitle:_["d"]});var x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{on:{click:t.toogleAuthentication}},[n("v-list-item-icon",[t.authenticated?n("v-icon",[t._v("mdi-logout")]):n("v-icon",[t._v("mdi-login")])],1),n("v-list-item-title",{domProps:{innerHTML:t._s(t.authenticated?"Logout":"Login")}})],1)],1)},O=[],T=n("2f62"),V=i["a"].extend({name:"AuthButton",computed:Object(o["a"])({},Object(T["c"])(["authenticated"])),methods:Object(o["a"])({},Object(T["b"])(["toogleAuthentication"]))}),R=V,C=Object(v["a"])(R,x,O,!1,null,null,null),L=C.exports;h()(C,{VIcon:b["a"],VList:g["a"],VListItem:j["a"],VListItemIcon:w["a"],VListItemTitle:_["d"]});var I=i["a"].extend({components:{AuthButton:L,NightModeSelector:k},computed:Object(o["a"])(Object(o["a"])({},Object(T["c"])(["authenticated","profile"])),{},{mini:function(){return this.$vuetify.breakpoint.mdAndDown}})}),P=I,S=n("ce7e"),A=n("adda"),E=n("8270"),z=n("f774"),$=Object(v["a"])(P,c,l,!1,null,null,null),B=$.exports;h()($,{VDivider:S["a"],VIcon:b["a"],VImg:A["a"],VList:g["a"],VListItem:j["a"],VListItemAvatar:E["a"],VListItemContent:_["b"],VListItemIcon:w["a"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VNavigationDrawer:z["a"]});var D=i["a"].extend({name:"App",components:{AppDrawer:B},computed:{currentRouteName:function(){return this.$route.name}},methods:Object(o["a"])({},Object(T["b"])(["handleAuthentication"])),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.handleAuthentication();case 2:t.$store.getters.authenticated?(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("refreshUsername");case 2:return e.next=4,Promise.all([t.$store.dispatch("init")]);case 4:case"end":return e.stop()}}),e)})))(),window.location.search.includes("code=")&&(n=t.$store.getters.lastPath,void 0!==n?t.$router.replace(n):t.$router.replace(window.location.pathname))):console.log("auth failed");case 3:case"end":return e.stop()}}),e)})))()}}),F=D,q=n("7496"),U=n("a523"),G=n("553a"),M=n("f6c4"),H=Object(v["a"])(F,a,s,!1,null,null,null),N=H.exports;h()(H,{VApp:q["a"],VContainer:U["a"],VFooter:G["a"],VMain:M["a"]});var J=n("8c4f"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-alert",{attrs:{outlined:"",icon:"mdi-school",type:"info",color:"blue-grey",text:""}},[t._v("Events displays the list of all actions that occured in your account.")]),n("EventList",{attrs:{title:"Events"}})],1)},K=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dark:t.dark,loading:t.areEventsLoading}},[n("v-data-table",{staticClass:"pa-4",attrs:{"sort-by":"timestamp","sort-desc":"",headers:t.headers,items:t.events,"item-key":"timestamp"},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{dense:"",flat:"",color:t.color}},[n("v-toolbar-title",[t._v(t._s(t.title))]),n("v-spacer"),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.timestamp",fn:function(t){var e=t.item;return[n("HumanTimestamp",{attrs:{timestamp:e.timestamp}})]}},{key:"item.actions",fn:function(e){var n=e.item;return[t._v(t._s(t.formatEvent(n)))]}}])})],1)},X=[],Y=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(t._s(t.formatDate(t.timestamp)))])}),Z=[],tt=n("c1df"),et=n.n(tt),nt=i["a"].extend({props:["timestamp"],computed:Object(o["a"])({},Object(T["c"])(["now"])),methods:{formatDate:function(t){return et()(t).from(et()(this.now))}}}),it=nt,at=Object(v["a"])(it,Y,Z,!1,null,null,null),st=at.exports,rt=i["a"].extend({components:{HumanTimestamp:st},props:["title","color","dark"],computed:Object(o["a"])({},Object(T["c"])(["events","areEventsLoading"])),methods:{formatEvent:function(t){switch(t.service){case"vespiary":switch(t.kind){default:return"".concat(t.service,":").concat(t.kind," (").concat(JSON.stringify(t.attributes),")")}default:switch(t.kind){case"session_connected":return"".concat(t.attributes.session_id," connected");case"session_disconnected":return"".concat(t.attributes.session_id," disconnected");default:return"".concat(t.service||"wasp",":").concat(t.kind," (").concat(JSON.stringify(t.attributes),")")}}}},data:function(){return{headers:[{text:"Timestamp",value:"timestamp",width:250},{text:"Action",value:"actions"}]}}}),ot=rt,ct=n("8336"),lt=n("b0af"),ut=n("8fea"),pt=n("2fa4"),dt=n("71d9"),mt=n("2a7f"),vt=Object(v["a"])(ot,Q,X,!1,null,null,null),ft=vt.exports;h()(vt,{VBtn:ct["a"],VCard:lt["a"],VDataTable:ut["a"],VIcon:b["a"],VSpacer:pt["a"],VToolbar:dt["a"],VToolbarTitle:mt["a"]});var ht=i["a"].extend({name:"Events",components:{EventList:ft}}),bt=ht,gt=n("0798"),jt=Object(v["a"])(bt,W,K,!1,null,null,null),wt=jt.exports;h()(jt,{VAlert:gt["a"]});var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-alert",{attrs:{outlined:"",icon:"mdi-school",type:"info",color:"blue-grey",text:""}},[t._v(" Applications are private message namespaces. "),n("br"),t._v(" Sessions connect to applications using Application Profiles.")]),n("ApplicationList",{attrs:{title:"Applications"}})],1)},yt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.applications,(function(e){return n("v-col",{key:e.id},[n("v-card",{staticClass:"ma-4",attrs:{dark:t.dark,outlined:"","max-width":"350px"}},[n("v-card-title",[t._v(" "+t._s(t.capitalizeFirstLetter(e.name))+" ")]),n("v-card-text",[n("v-list",[n("v-list-item-group",[n("v-subheader",[t._v("Configuration")]),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v("mdi-lock")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(" "+t._s(t.applicationProfiles.filter((function(t){return t.applicationId===e.id})).length)+" ")]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("Profiles")])])],1)],1)],1),n("v-list-item-group",[n("v-subheader",[t._v("Usage")]),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v("mdi-devices")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.sessions.filter((function(t){return t.applicationId===e.id})).length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("Connected sessions")])])],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v("mdi-share-variant")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.topics.filter((function(t){return t.applicationId===e.id})).length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("Message topics")])])],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.deleteApplication(e.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)})),1)},xt=[],Ot=n("2909"),Tt=n("4f96"),Vt=(n("fb6a"),n("a15b"),i["a"].extend({props:["title","color","dark"],computed:Object(o["a"])({},Object(T["c"])(["applications","sessions","topics","applicationProfiles"])),methods:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["deleteApplication","refreshState"])),{},{capitalizeFirstLetter:function(t){var e=Object(Tt["a"])(t),n=e[0],i=e.slice(1),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.language;return[n.toLocaleUpperCase(a)].concat(Object(Ot["a"])(i)).join("")}}),data:function(){return{search:null,dialog:!1,headers:[{text:"Name",value:"name"},{text:"Profiles",value:"profiles"},{text:"Connected Sessions",value:"sessions"},{text:"Topics",value:"topics"},{text:"Actions",value:"actions",sortable:!1}]}}})),Rt=Vt,Ct=n("99d9"),Lt=n("62ad"),It=n("1baa"),Pt=n("0fd9"),St=n("e0c7"),At=Object(v["a"])(Rt,kt,xt,!1,null,null,null),Et=At.exports;h()(At,{VBtn:ct["a"],VCard:lt["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Lt["a"],VIcon:b["a"],VList:g["a"],VListItem:j["a"],VListItemContent:_["b"],VListItemGroup:It["a"],VListItemIcon:w["a"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VRow:Pt["a"],VSpacer:pt["a"],VSubheader:St["a"]});var zt=i["a"].extend({components:{ApplicationList:Et}}),$t=zt,Bt=Object(v["a"])($t,_t,yt,!1,null,null,null),Dt=Bt.exports;h()(Bt,{VAlert:gt["a"]});var Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-alert",{attrs:{outlined:"",icon:"mdi-school",type:"info",color:"blue-grey",text:""}},[t._v(" Topics displays an aggregated view of all MQTT messages published in your account, aggregated by topic. "),n("br"),t._v("Click on a topic to display messages published in it. ")]),n("v-row",[n("v-col",[n("TopicList",{attrs:{title:"Topics"}})],1),t.selectedTopic.length>0?n("v-col",[n("TopicRecords")],1):t._e()],1)],1)},qt=[],Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dark:t.dark,loading:t.areTopicsLoading}},[n("v-data-table",{staticClass:"pa-4",attrs:{"hide-default-header":"","custom-filter":t.topicsFilter,search:t.search,headers:t.headers,items:t.topics},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{dense:"",flat:"",color:t.color}},[n("v-toolbar-title",[t._v(t._s(t.title))]),n("v-spacer"),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("v-btn",{attrs:{icon:""},on:{click:t.refreshState}},[n("v-icon",[t._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.humanTopic",fn:function(e){var i=e.item;return[n("v-list-item",{key:i.title,on:{click:function(e){return t.selectTopic(i.name)}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(i.name)}}),void 0!==i.lastRecord&&"text/plain; charset=utf-8"===i.guessedContentType?n("v-list-item-subtitle",[t._v(" Last message: "),void 0!==i.lastRecord.payload?n("span",[i.lastRecord.payload.length<30?n("span",[t._v(t._s(i.lastRecord.payload))]):n("span",[t._v(t._s(i.lastRecord.payload.substring(0,30))+"...")])]):t._e(),t._v(" "),n("HumanTimestamp",{attrs:{timestamp:i.lastRecord.sentAt}})],1):t._e()],1),n("v-list-item-action",[n("v-list-item-action-text",[t._v(t._s(i.messageCount)+" Messages")]),n("v-list-item-action-text",[t._v(t._s(i.sizeInBytes)+" Bytes")])],1)]}}],null,!0)})]}}])})],1)},Gt=[],Mt=i["a"].extend({name:"topicList",components:{HumanTimestamp:st},props:["title","color","dark"],computed:Object(o["a"])({},Object(T["c"])(["topics","selectedTopic","areTopicsLoading"])),methods:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["refreshState","selectTopic"])),{},{topicsFilter:function(t,e,n){return null!=n&&null!=e&&n.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())},decodeBase64:function(t){return atob(t)}}),data:function(){return{search:null,dialog:!1,headers:[{text:"Topic",value:"humanTopic"}]}}}),Ht=Mt,Nt=n("1800"),Jt=n("8654"),Wt=Object(v["a"])(Ht,Ut,Gt,!1,null,null,null),Kt=Wt.exports;h()(Wt,{VBtn:ct["a"],VCard:lt["a"],VDataTable:ut["a"],VIcon:b["a"],VListItem:j["a"],VListItemAction:Nt["a"],VListItemActionText:_["a"],VListItemContent:_["b"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VSpacer:pt["a"],VTextField:Jt["a"],VToolbar:dt["a"],VToolbarTitle:mt["a"]});var Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{dark:t.dark,loading:t.isSelectedTopicRecordsLoading}},[n("v-card-title",[n("v-toolbar",{attrs:{dense:"",flat:"",color:t.color}},[n("v-toolbar-title",[t._v(t._s(t.selectedTopic))]),n("v-spacer"),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:t.refreshSelectedTopicRecords}},[n("v-icon",[t._v("mdi-refresh")])],1)],1)],1),n("v-tabs",{attrs:{grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("History")]),n("v-tab",{attrs:{disabled:!t.isGraphAvailable}},[t._v("Graph")]),n("v-tab",[t._v("Statistics")])],1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("v-data-table",{staticClass:"pa-4",attrs:{"hide-default-header":"","sort-by":"timestamp","sort-desc":"",headers:t.headers,items:t.selectedTopicRecords.filter((function(t){return void 0!==t.payload&&t.payload.length>0}))},scopedSlots:t._u([{key:"item.humanRecords",fn:function(e){var i=e.item;return[n("v-list-item",[n("v-list-item-content",["text/plain; charset=utf-8"===t.topics.find((function(e){return e.name===t.selectedTopic})).guessedContentType?n("v-list-item-title",{domProps:{textContent:t._s(i.payload)}}):"image/jpeg"===t.topics.find((function(e){return e.name===t.selectedTopic})).guessedContentType?n("v-list-item-title",[n("img",{attrs:{src:t.encodeImage(i.payload)}})]):n("v-list-item-title",{domProps:{textContent:t._s("<Binary payload hidden>")}}),n("v-list-item-subtitle",[t._v(" Published by: "),n("span",[t._v(t._s(i.sentBy))])])],1),n("v-list-item-action",[n("v-list-item-action-text",[n("HumanTimestamp",{attrs:{timestamp:i.sentAt}})],1),n("v-list-item-action-text",[t._v(t._s(i.payload?i.payload.length:0)+" Bytes")])],1)],1)]}}])})],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("Timeline",{attrs:{id:"records",records:t.timelineSerie,customBars:!0}})],1)],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("TopicStats")],1)],1)],1)],1)],1)},Xt=[],Yt=(n("13d5"),n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"linechart"},[n("div",{staticStyle:{width:"100%"},attrs:{id:t.id}})])}),Zt=[],te=n("11f9"),ee=(n("ff8b"),{name:"Linechart",props:["records","id","customBars"],data:function(){return{plot:null,options:{labels:["Time","Value"],rollPeriod:10,legend:"always",showRoller:!0,customBars:this.customBars}}},watch:{records:function(){null!==this.plot&&void 0!==this.records&&null!==this.records&&this.records.length>0&&this.plot.updateOptions(Object(o["a"])({file:this.records},this.options))}},mounted:function(){this.plot=new te["a"](document.getElementById(this.id),this.records,this.options)}}),ne=ee,ie=(n("f2b0"),Object(v["a"])(ne,Yt,Zt,!1,null,null,null)),ae=ie.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{align:"center",justify:"space-around"}},[n("GraphCard",{staticClass:"ma-4",attrs:{title:"Messages sent per hour",serie:t.rate}}),n("GraphCard",{staticClass:"ma-4",attrs:{title:"Bytes sent per hour",serie:t.sizeRate}})],1)},re=[],oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"green",dark:"",width:"250",height:"100"}},[n("v-row",{staticClass:"ma-2",attrs:{align:"center",justify:"space-around"}},[n("v-sparkline",{attrs:{value:t.serie,color:"rgba(255, 255, 255, .7)","line-width":"2",padding:"24","stroke-linecap":"round",smooth:""}}),n("span",[n("strong",[t._v(t._s(t.avg))]),t._v(" "+t._s(t.title))])],1)],1)},ce=[],le=(n("b680"),i["a"].extend({props:["serie","title"],computed:{avg:function(){var t=this.serie;return(t.reduce((function(t,e){return t+e}),0)/t.length).toFixed(1)}},data:function(){return{}}})),ue=le,pe=n("7f2e"),de=Object(v["a"])(ue,oe,ce,!1,null,null,null),me=de.exports;h()(de,{VCard:lt["a"],VRow:Pt["a"],VSparkline:pe["a"]});var ve=i["a"].extend({components:{GraphCard:me},computed:Object(o["a"])(Object(o["a"])({},Object(T["c"])(["selectedTopicRecords"])),{},{buckets:function(){return this.selectedTopicRecords.reverse().reduce((function(t,e){if(0==t.length)return t.push([e]),t;var n=t[t.length-1][0].sentAt;return n.getTime()-e.sentAt.getTime()>36e5?t.push([e]):t[t.length-1].push(e),t}),[])},rate:function(){return this.buckets.map((function(t){return t.length}))},sizeRate:function(){return this.buckets.map((function(t){return t.reduce((function(t,e){return t+e.payload.length}),0)}))},publishersRate:function(){return this.buckets.map((function(t){return t.reduce((function(t,e){return t.includes(e.publisher)||t.push(e.publisher),t}),[])})).map((function(t){return t.length}))}})}),fe=ve,he=Object(v["a"])(fe,se,re,!1,null,null,null),be=he.exports;h()(he,{VRow:Pt["a"]});var ge=i["a"].extend({name:"deviceList",components:{Timeline:ae,TopicStats:be,HumanTimestamp:st},props:["color","dark"],computed:Object(o["a"])(Object(o["a"])({},Object(T["c"])(["topics","selectedTopic","selectedTopicRecords","isSelectedTopicRecordsLoading"])),{},{isGraphAvailable:function(){return void 0!==this.selectedTopicRecords&&null!==this.selectedTopicRecords},buckets:function(){return this.selectedTopicRecords.reverse().map((function(t){return{sentAt:t.sentAt,payload:parseInt(t.payload)}})).reduce((function(t,e){if(0==t.length)return t.push([e]),t;var n=t[t.length-1][0].sentAt;return n.getTime()-e.sentAt.getTime()>9e5?t.push([e]):t[t.length-1].push(e),t}),[]).reverse()},timelineSerie:function(){var t=this.buckets.map((function(t){return t.sort((function(t,e){return t.payload-e.payload}))})).map((function(t){return[t[0].sentAt,[t[0].payload,t.reduce((function(t,e){return t+e.payload}),0)/t.length,t[t.length-1].payload]]}));return t}}),methods:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["refreshSelectedTopicRecords"])),{},{decodeBase64:function(t){return atob(t)},encodeImage:function(t){var e="data:image/jpeg;base64,".concat(t);return e}}),data:function(){return{tab:null,search:"",selected:null,dialog:!1,headers:[{text:"Records",value:"humanRecords"}]}}}),je=ge,we=n("71a3"),_e=n("c671"),ye=n("fe57"),ke=n("aac8"),xe=Object(v["a"])(je,Qt,Xt,!1,null,null,null),Oe=xe.exports;h()(xe,{VBtn:ct["a"],VCard:lt["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VDataTable:ut["a"],VIcon:b["a"],VListItem:j["a"],VListItemAction:Nt["a"],VListItemActionText:_["a"],VListItemContent:_["b"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VSpacer:pt["a"],VTab:we["a"],VTabItem:_e["a"],VTabs:ye["a"],VTabsItems:ke["a"],VToolbar:dt["a"],VToolbarTitle:mt["a"]});var Te=i["a"].extend({components:{TopicList:Kt,TopicRecords:Oe},computed:Object(o["a"])({},Object(T["c"])(["selectedTopic"]))}),Ve=Te,Re=Object(v["a"])(Ve,Ft,qt,!1,null,null,null),Ce=Re.exports;h()(Re,{VAlert:gt["a"],VCol:Lt["a"],VRow:Pt["a"]});var Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"ma-4",attrs:{align:"center",justify:"center"}},[n("h2",{staticClass:"text-h2"},[n("span",{staticClass:"font-weight-thin"},[t._v(t._s(t.greeting)+", ")]),n("span",{domProps:{textContent:t._s(t.profile.given_name+" "+t.profile.family_name.toUpperCase())}})])]),n("v-row",{staticClass:"ma-4",attrs:{align:"center",justify:"center"}},[n("span",{staticClass:"font-weight-light"},[t._v(" Here's a short summary of your applications, topics and other resources. ")])]),n("v-row",{staticClass:"ma-4",attrs:{justify:"center"}},[n("v-col",[n("v-card",{staticClass:"ma-4",attrs:{outlined:""}},[n("v-list",[n("v-subheader",[t._v("Resources")]),n("v-list-item-group",[n("v-list-item",{attrs:{to:"/applications"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-apps")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.applications.length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("applications")])])],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v("mdi-lock")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.applicationProfiles.length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("application profiles")])])],1)],1)],1)],1)],1)],1),n("v-col",[n("v-card",{staticClass:"ma-4",attrs:{outlined:""}},[n("v-list",[n("v-subheader",[t._v("Usage")]),n("v-list-item-group",[n("v-list-item",{attrs:{to:"/topics"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-share-variant")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.topics.length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("messages topics")])])],1)],1),n("v-list-item",{attrs:{to:"/topics"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-email")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.topics.reduce((function(t,e){return t+(e.messageCount||0)}),0)))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("published messages")])])],1)],1),n("v-list-item",{attrs:{to:"/topics"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-harddisk")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.topics.reduce((function(t,e){return t+(e.sizeInBytes||0)}),0)))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("published bytes")])])],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v("mdi-devices")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.sessions.length))]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("connected sessions")])])],1)],1)],1)],1)],1)],1)],1)],1)},Ie=[],Pe=i["a"].extend({name:"Dashboard",computed:Object(o["a"])(Object(o["a"])({},Object(T["c"])(["sessions","profile","topics","now","applications","applicationProfiles"])),{},{greeting:function(){var t=12,e=17,n=this.now.getHours(),i="Good";return"".concat(i,n>=t&&n<=e?" afternoon":n>=e?" evening":" morning")}})}),Se=Pe,Ae=Object(v["a"])(Se,Le,Ie,!1,null,null,null),Ee=Ae.exports;h()(Ae,{VCard:lt["a"],VCol:Lt["a"],VIcon:b["a"],VList:g["a"],VListItem:j["a"],VListItemContent:_["b"],VListItemGroup:It["a"],VListItemIcon:w["a"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VRow:Pt["a"],VSubheader:St["a"]});var ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"ma-4",attrs:{align:"center",justify:"center"}},[n("h2",{staticClass:"text-h2"},[t._v("VX-Labs IoT Platform")])]),n("v-row",{staticClass:"ma-4",attrs:{align:"center",justify:"center"}},[n("p",{staticClass:"font-weight-light"},[t._v(" Welcome. From here, you can login into your account, or read some documentation about the platform. "),n("br")])]),n("v-row",{staticClass:"ma-4",attrs:{justify:"center"}},[n("v-col",[n("v-card",{staticClass:"ma-4",attrs:{outlined:"",loading:t.authenticationPending}},[n("v-list",[n("v-subheader",[t._v("Login")]),n("v-list-item-group",[n("v-list-item",{on:{click:function(e){return t.doLogin()}}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-login")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Access your account")]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("Access your account, or create a new one, by clicking this link")])])],1)],1),n("v-list-item",{attrs:{to:"/support"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-email")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Contact support")]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("Got technical issues? Contact support now.")])])],1)],1)],1)],1)],1)],1),n("v-col",[n("v-card",{staticClass:"ma-4",attrs:{outlined:""}},[n("v-list",[n("v-subheader",[t._v("Learn more")]),n("v-list-item-group",[n("v-list-item",{attrs:{to:"/about"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-book")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("IoT Platform")]),n("v-list-item-subtitle",[n("span",{staticClass:"font-weight-light"},[t._v("What's this platform?")])])],1)],1)],1)],1)],1)],1)],1)],1)},$e=[],Be=(n("2b3d"),{computed:Object(o["a"])({},Object(T["c"])(["authenticated","authenticationPending"])),methods:Object(o["a"])(Object(o["a"])({},Object(T["b"])(["login"])),{},{doLogin:function(){var t=new URLSearchParams(window.location.search);return this.login(t.get("lastPage"))},doCheck:function(){if(this.authenticated){var t=new URLSearchParams(window.location.search);this.$router.replace(t.get("lastPage"))}}}),mounted:function(){var t=this;this.$nextTick((function(){return t.doCheck()}))},watch:{authenticated:function(){this.doCheck()}}}),De=Be,Fe=Object(v["a"])(De,ze,$e,!1,null,null,null),qe=Fe.exports;h()(Fe,{VCard:lt["a"],VCol:Lt["a"],VIcon:b["a"],VList:g["a"],VListItem:j["a"],VListItemContent:_["b"],VListItemGroup:It["a"],VListItemIcon:w["a"],VListItemSubtitle:_["c"],VListItemTitle:_["d"],VRow:Pt["a"],VSubheader:St["a"]});var Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[t._v(" Guess what ? This page does not exist (yet) ! ")])],1)],1)],1)},Ge=[],Me={name:"About"},He=Me,Ne=Object(v["a"])(He,Ue,Ge,!1,null,null,null),Je=Ne.exports;h()(Ne,{VCol:Lt["a"],VContainer:U["a"],VRow:Pt["a"]});var We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[t._v(" Guess what ? This page does not exist (yet) ! ")])],1)],1)],1)},Ke=[],Qe={name:"Support"},Xe=Qe,Ye=Object(v["a"])(Xe,We,Ke,!1,null,null,null),Ze=Ye.exports;h()(Ye,{VCol:Lt["a"],VContainer:U["a"],VRow:Pt["a"]});n("c740"),n("a434"),n("4de4");var tn,en,nn,an,sn,rn,on=n("d4ec"),cn=n("bee2"),ln=n("bc3a"),un=n.n(ln),pn=function(){function t(e){Object(on["a"])(this,t),this.httpClient=un.a.create({baseURL:e,timeout:3e3})}return Object(cn["a"])(t,[{key:"getAccountInformations",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.get("/account/info/",{headers:{Authorization:"Bearer ".concat(e)}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"createAccount",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.post("/account/",{},{headers:{Authorization:"Bearer ".concat(e)}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),dn=function t(){Object(on["a"])(this,t),this.client=new pn("https://api.vespio.dev")},mn=function t(){Object(on["a"])(this,t),this.selectedTopic="",this.selectedTopicRecords=[],this.topics=[],this.applications=[],this.applicationProfiles=[],this.sessions=[],this.events=[]},vn=function t(){Object(on["a"])(this,t),this.username=void 0,this.api=new dn,this.resources=new mn,this.now=new Date,this.startedAt=new Date},fn=(n("b64b"),n("2ca0"),n("9767")),hn=function(){function t(e,n){Object(on["a"])(this,t),this.auth0=new fn["a"]({domain:e,client_id:n,redirect_uri:window.location.origin+"/login",cacheLocation:"localstorage",connection:"google-oauth2",audience:"https://api.vespio.dev"})}return Object(cn["a"])(t,[{key:"login",value:function(t){return this.auth0.loginWithRedirect({appState:t})}},{key:"logout",value:function(){var t=Object.keys(localStorage),e=t.length;while(e--){var n=localStorage.key(e);if(null!==n&&n.startsWith("@@auth0")){localStorage.removeItem(n);break}}return this.auth0.logout({returnTo:window.location.origin})}},{key:"handleAuthentication",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.auth0.getTokenSilently();case 3:return t.abrupt("return");case 6:return t.prev=6,t.t0=t["catch"](0),t.next=10,this.auth0.handleRedirectCallback();case 10:return e=t.sent,t.abrupt("return",e.appState);case 12:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"userProfile",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.auth0.getUser());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"token",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.auth0.getTokenSilently();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),bn=n("8160"),gn=new hn(bn["b"],bn["a"]),jn=function t(){Object(on["a"])(this,t),this.authenticated=!1,this.authenticationPending=!1},wn={state:new jn,getters:{authenticated:function(t){return t.authenticated},authenticationPending:function(t){return t.authenticationPending},lastPath:function(t){return t.lastPath},profile:function(t){return t.profile}},mutations:{authenticationPending:function(t){t.authenticationPending=!0},authenticationFailed:function(t){t.authenticationPending=!1},appStateRecovered:function(t,e){t.lastPath=e},profileFetched:function(t,e){t.profile=e,t.authenticated=!0,t.authenticationPending=!1},logout:function(t){t.authenticated=!1}},actions:{toogleAuthentication:function(t){var e=t.state,n=t.dispatch;return e.authenticated?n("logout"):n("login")},login:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,i("authenticationPending"),n.abrupt("return",gn.login(e));case 3:case"end":return n.stop()}}),n)})))()},logout:function(t){var e=t.commit;gn.logout(),e("logout")},refreshToken:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",gn.token());case 1:case"end":return t.stop()}}),t)})))()},handleAuthentication:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("authenticationPending"),e.prev=2,e.next=5,gn.handleAuthentication();case 5:return i=e.sent,e.next=8,gn.userProfile();case 8:a=e.sent,void 0!==i&&n("appStateRecovered",i),n("profileFetched",a),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),n("authenticationFailed");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))()}}},_n=wn,yn=function t(){Object(on["a"])(this,t),this.pending=!1,this.failureReason=""},kn=function(){return{namespaced:!0,state:new yn,getters:{isPending:function(t){return t.pending},hasFailed:function(t){return""!==t.failureReason},failureReason:function(t){return t.failureReason}},mutations:{loading:function(t){t.pending=!0},loaded:function(t){t.pending=!1,t.failureReason=""},failed:function(t,e){t.pending=!1,t.failureReason=e}},actions:{load:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,i("loading"),n.prev=2,n.next=5,e();case 5:i("loaded"),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](2),i("failed",n.t0);case 11:case"end":return n.stop()}}),n,null,[[2,8]])})))()}}}},xn={modules:{state:kn(),deviceList:kn(),topicList:kn(),topicRecords:kn(),eventList:kn(),username:kn()}},On=xn,Tn=n("74ca"),Vn=n("d634"),Rn=n("4518"),Cn=n("c2c3"),Ln=n("c0cc"),In=n("478e"),Pn=n("2bf2"),Sn=n("8785"),An=n("9530"),En=n.n(An),zn={applicationProfile:En()(tn||(tn=Object(Sn["a"])(["\n  fragment ApplicationProfileFragment on ApplicationProfile {\n    id\n    name\n    enabled\n    applicationId\n  }\n  "]))),application:En()(en||(en=Object(Sn["a"])(["\n  fragment ApplicationFragment on Application {\n    id\n    name\n  }\n  "]))),session:En()(nn||(nn=Object(Sn["a"])(["\n  fragment SessionFragment on Session {\n    id\n    clientId\n    applicationId\n    applicationProfileId\n  }\n  "])))},$n=(En()(an||(an=Object(Sn["a"])(["\n","\n","\n","\nsubscription {\n\tauditEvents {\n\t\tpayload {\n      ... on ApplicationCreatedEvent {\n        application {\n          ...ApplicationFragment\n        }\n      }\n      ... on ApplicationDeletedEvent {\n        id\n      }\n      ... on ApplicationProfileCreatedEvent {\n        applicationProfile {\n          ...ApplicationProfileFragment\n        }\n      }\n      ... on ApplicationProfileDeletedEvent {\n        id\n      }\n      ... on SessionConnectedEvent {\n        session {\n         ...SessionFragment\n        }\n      }\n      ... on SessionDisconnectedEvent {\n        id\n      }\n    }\n  }\n}\n"])),zn.applicationProfile,zn.application,zn.session),En()(sn||(sn=Object(Sn["a"])(["\n","\n","\n","\nquery {\n  applications {\n    ...ApplicationFragment\n  }\n  applicationProfiles {\n    ...ApplicationProfileFragment\n  }\n  topics {\n    name\n    guessedContentType\n    applicationId\n    messageCount\n    sizeInBytes\n    lastRecord {\n      payload\n      sentAt\n      sentBy\n      topicName\n    }\n  }\n  sessions {\n    ...SessionFragment\n  }\n}\n"])),zn.applicationProfile,zn.application,zn.session)),Bn=En()(rn||(rn=Object(Sn["a"])(["query GetTopicRecords($pattern: String) {\n  topics(pattern: $pattern) {\n    records {\n      payload\n      sentAt\n      sentBy\n      topicName\n    }\n  }\n}\n"])));i["a"].use(T["a"]);var Dn=500,Fn=new T["a"].Store({state:new vn,getters:{username:function(t){return t.username},now:function(t){return t.now},topics:function(t){return t.resources.topics},sessions:function(t){return t.resources.sessions},applications:function(t){return t.resources.applications},applicationProfiles:function(t){return t.resources.applicationProfiles},events:function(t){return t.resources.events},selectedTopic:function(t){return t.resources.selectedTopic},selectedTopicRecords:function(t){return t.resources.selectedTopicRecords},areTopicsLoading:function(t,e){return e["topicList/isPending"]},areEventsLoading:function(t,e){return e["eventList/isPending"]},isSelectedTopicRecordsLoading:function(t,e){return e["topicRecords/isPending"]}},mutations:{graphqlClientSet:function(t,e){t.graphql=e},usernameSet:function(t,e){t.username=e},timeTicked:function(t,e){t.now=e},eventsLoaded:function(t,e){e.length>Dn&&(e=e.slice(e.length-Dn,e.length)),t.resources.events=e},eventAppended:function(t,e){t.resources.events.push(e),t.resources.events.length>Dn&&(t.resources.events=t.resources.events.slice(t.resources.events.length-Dn,t.resources.events.length))},topicsLoaded:function(t,e){t.resources.topics=e},topicSelected:function(t,e){var n=e.topic;t.resources.selectedTopic=n,t.resources.selectedTopicRecords=[]},selectedTopicRecordsFetched:function(t,e){var n=e.records;t.resources.selectedTopicRecords=n.map((function(t){return Object.assign({},t,{sentAt:new Date(t.sentAt)})}))},applicationsLoaded:function(t,e){t.resources.applications=e},applicationCreated:function(t,e){var n=t.resources.applications.findIndex((function(t){return t.id===e.id}));-1===n?t.resources.applications.push(e):t.resources.applications.splice(n,1,e)},applicationDeleted:function(t,e){t.resources.applicationProfiles.some((function(t){return t.applicationId===e}))&&(t.resources.applicationProfiles=t.resources.applicationProfiles.filter((function(t){return t.applicationId!==e})));var n=t.resources.applications.findIndex((function(t){return t.id===e}));n>-1&&t.resources.applications.splice(n,1)},applicationProfilesLoaded:function(t,e){t.resources.applicationProfiles=e},applicationProfileCreated:function(t,e){var n=t.resources.applicationProfiles.findIndex((function(t){return t.id===e.id}));-1===n?t.resources.applicationProfiles.push(e):t.resources.applicationProfiles.splice(n,1,e)},applicationProfileDeleted:function(t,e){var n=t.resources.applicationProfiles.findIndex((function(t){return t.id===e}));n>-1&&t.resources.applicationProfiles.splice(n,1)},sessionsLoaded:function(t,e){t.resources.sessions=e},sessionConnected:function(t,e){var n=t.resources.sessions.findIndex((function(t){return t.id===e.id}));-1===n?t.resources.sessions.push(e):t.resources.sessions.splice(n,1,e)},sessionDisconnected:function(t,e){var n=t.resources.sessions.findIndex((function(t){return t.id===e}));n>-1&&t.resources.sessions.splice(n,1)}},actions:{init:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a,s,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,t.state,i=t.commit,a=new In["a"]({uri:"https://api.vespio.dev/graphql",fetch:fetch}),s=Object(Cn["a"])(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0="bearer ",t.next=3,n("refreshToken",{},{root:!0});case 3:return t.t1=t.sent,t.t2=t.t0.concat.call(t.t0,t.t1),t.t3={authorization:t.t2},t.abrupt("return",{headers:t.t3});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),o=new Ln["a"]({uri:"wss://api.vespio.dev/graphql",options:{connectionParams:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n("refreshToken",{},{root:!0});case 2:return t.t0=t.sent,t.abrupt("return",{Authorization:t.t0});case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),reconnect:!0}}),c=Object(Vn["e"])((function(t){var e=t.query,n=Object(Rn["l"])(e);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),o,Object(Vn["c"])([s,a])),l=new Tn["a"]({link:c,cache:new Pn["a"]}),i("graphqlClientSet",l),e.next=9,n("refreshState");case 9:case"end":return e.stop()}}),e)})))()},refreshSelectedTopicRecords:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,i=t.dispatch,a=t.commit,e.abrupt("return",i("topicRecords/load",Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==n.graphql){t.next=2;break}throw"init not done";case 2:return t.next=4,n.graphql.query({query:Bn,variables:{pattern:n.resources.selectedTopic}});case 4:e=t.sent,i=e.data,a("selectedTopicRecordsFetched",{records:i.topics[0].records});case 7:case"end":return t.stop()}}),t)})))));case 2:case"end":return e.stop()}}),e)})))()},selectTopic:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.dispatch,a=t.commit,a("topicSelected",{topic:e}),n.next=4,i("refreshSelectedTopicRecords");case 4:case"end":return n.stop()}}),n)})))()},refreshState:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.commit,a=t.state,e.abrupt("return",n("topicList/load",Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==a.graphql){t.next=2;break}throw"init not done";case 2:return t.next=4,a.graphql.query({query:$n});case 4:e=t.sent,n=e.data,i("applicationsLoaded",n.applications),i("applicationProfilesLoaded",n.applicationProfiles),i("topicsLoaded",n.topics),i("sessionsLoaded",n.sessions);case 10:case"end":return t.stop()}}),t)})))));case 2:case"end":return e.stop()}}),e)})))()},refreshUsername:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,i=t.dispatch,a=t.commit,e.abrupt("return",i("username/load",Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i("refreshToken",{},{root:!0});case 2:return e=t.sent,t.prev=3,t.next=6,n.api.client.getAccountInformations(e);case 6:s=t.sent,a("usernameSet",s.usernames[0]),t.next=16;break;case 10:return t.prev=10,t.t0=t["catch"](3),t.next=14,n.api.client.createAccount(e);case 14:r=t.sent,a("usernameSet",r.usernames[0]);case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))));case 2:case"end":return e.stop()}}),e)})))()}},modules:{session:_n,loader:On}});setInterval((function(){return Fn.commit("timeTicked",new Date)}),5e3);var qn=Fn;i["a"].use(J["a"]);var Un=function(t,e,n){n&&(qn.getters.authenticated?n():n({path:"/login",query:{lastPage:t.fullPath}}))},Gn=[{path:"/",name:"Dashboard",component:Ee,beforeEnter:Un},{path:"/applications/",name:"Applications",component:Dt,beforeEnter:Un},{path:"/topics/",name:"Topics",component:Ce,beforeEnter:Un},{path:"/events/",name:"Events",component:wt,beforeEnter:Un},{path:"/about",name:"About",component:Je},{path:"/login",component:qe},{path:"/support",component:Ze}],Mn=new J["a"]({mode:"history",base:"/",routes:Gn}),Hn=Mn,Nn=n("f309");i["a"].use(Nn["a"]);var Jn=new Nn["a"]({theme:{}});new i["a"]({router:Hn,store:qn,vuetify:Jn,render:function(t){return t(N)}}).$mount("#app")},f2b0:function(t,e,n){"use strict";n("4199")}});
//# sourceMappingURL=app.806ad12a.js.map